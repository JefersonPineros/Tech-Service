import{R as I,da as p,ga as a,ha as l,ia as m,ja as E}from"./chunk-HJ4MYEPY.js";import{t as N}from"./chunk-NG2MCBW7.js";import{Ga as v,Pa as C,R as S,Tb as L,W as i,a as o,ca as u,da as f,ma as g,na as b,oc as T,pa as O,ta as _}from"./chunk-WBDU4WME.js";var c={};function D(s="pui_id_"){return Object.hasOwn(c,s)||(c[s]=0),c[s]++,`${s}${c[s]}`}function d(...s){if(s){let r=[];for(let e=0;e<s.length;e++){let t=s[e];if(!t)continue;let n=typeof t;if(n==="string"||n==="number")r.push(t);else if(n==="object"){let h=Array.isArray(t)?[d(...t)]:Object.entries(t).map(([y,j])=>j?y:void 0);r=h.length?r.concat(h.filter(y=>!!y)):r}}return r.join(" ").trim()}}var $=(()=>{class s extends m{name="common";static \u0275fac=(()=>{let e;return function(n){return(e||(e=b(s)))(n||s)}})();static \u0275prov=S({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),U=(()=>{class s{document=i(f);platformId=i(_);el=i(O);injector=i(u);cd=i(T);renderer=i(v);config=i(E);baseComponentStyle=i($);baseStyle=i(m);scopedStyleEl;rootEl;dt;get styleOptions(){return{nonce:this.config?.csp().nonce}}get _name(){return this.constructor.name.replace(/^_/,"").toLowerCase()}get componentStyle(){return this._componentStyle}attrSelector=D("pc");themeChangeListeners=[];_getHostInstance(e){if(e)return e?this.hostName?e.name===this.hostName?e:this._getHostInstance(e.parentInstance):e.parentInstance:void 0}_getOptionValue(e,t="",n={}){return I(e,t,n)}ngOnInit(){this.document&&(this._loadCoreStyles(),this._loadStyles())}ngAfterViewInit(){this.rootEl=this.el?.nativeElement,this.rootEl&&this.rootEl?.setAttribute(this.attrSelector,"")}ngOnChanges(e){if(this.document&&!N(this.platformId)){let{dt:t}=e;t&&t.currentValue&&(this._loadScopedThemeStyles(t.currentValue),this._themeChangeListener(()=>this._loadScopedThemeStyles(t.currentValue)))}}ngOnDestroy(){this._unloadScopedThemeStyles(),this.themeChangeListeners.forEach(e=>p.off("theme:change",e))}_loadStyles(){let e=()=>{l.isStyleNameLoaded("base")||(this.baseStyle.loadGlobalCSS(this.styleOptions),l.setLoadedStyleName("base")),this._loadThemeStyles()};e(),this._themeChangeListener(()=>e())}_loadCoreStyles(){!l.isStyleNameLoaded("base")&&this.componentStyle?.name&&(this.baseComponentStyle.loadCSS(this.styleOptions),this.componentStyle&&this.componentStyle?.loadCSS(this.styleOptions),l.setLoadedStyleName(this.componentStyle?.name))}_loadThemeStyles(){if(!a.isStyleNameLoaded("common")){let{primitive:e,semantic:t,global:n,style:h}=this.componentStyle?.getCommonTheme?.()||{};this.baseStyle.load(e?.css,o({name:"primitive-variables"},this.styleOptions)),this.baseStyle.load(t?.css,o({name:"semantic-variables"},this.styleOptions)),this.baseStyle.load(n?.css,o({name:"global-variables"},this.styleOptions)),this.baseStyle.loadGlobalTheme(o({name:"global-style"},this.styleOptions),h),a.setLoadedStyleName("common")}if(!a.isStyleNameLoaded(this.componentStyle?.name)&&this.componentStyle?.name){let{css:e,style:t}=this.componentStyle?.getComponentTheme?.()||{};this.componentStyle?.load(e,o({name:`${this.componentStyle?.name}-variables`},this.styleOptions)),this.componentStyle?.loadTheme(o({name:`${this.componentStyle?.name}-style`},this.styleOptions),t),a.setLoadedStyleName(this.componentStyle?.name)}if(!a.isStyleNameLoaded("layer-order")){let e=this.componentStyle?.getLayerOrderThemeCSS?.();this.baseStyle.load(e,o({name:"layer-order",first:!0},this.styleOptions)),a.setLoadedStyleName("layer-order")}this.dt&&(this._loadScopedThemeStyles(this.dt),this._themeChangeListener(()=>this._loadScopedThemeStyles(this.dt)))}_loadScopedThemeStyles(e){let{css:t}=this.componentStyle?.getPresetTheme?.(e,`[${this.attrSelector}]`)||{},n=this.componentStyle?.load(t,o({name:`${this.attrSelector}-${this.componentStyle?.name}`},this.styleOptions));this.scopedStyleEl=n?.el}_unloadScopedThemeStyles(){this.scopedStyleEl?.remove()}_themeChangeListener(e=()=>{}){l.clearLoadedStyleNames(),p.on("theme:change",e),this.themeChangeListeners.push(e)}cx(e,t={}){return d(this._getOptionValue(this.$style?.classes,e,o({instance:this},t)))}sx(e="",t=!0,n={}){if(t)return this._getOptionValue(this.$style?.inlineStyles,e,o({instance:this},n))}get parent(){return this.parentInstance}get $style(){return this.parent?this.parent.componentStyle:this.componentStyle}cn=d;static \u0275fac=function(t){return new(t||s)};static \u0275dir=C({type:s,inputs:{dt:"dt"},features:[L([$,m]),g]})}return s})();export{d as a,D as b,U as c};
